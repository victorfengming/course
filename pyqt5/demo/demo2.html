
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>起步 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="demo2.html" />
    
    
    <link rel="prev" href="demo1.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    笔记
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../note/note1-5.html">
            
                <a href="../note/note1-5.html#PyQt5的第一课-环境的准备">
            
                    
                    环境的准备
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../note/note1-5.html">
            
                <a href="../note/note1-5.html#PyQt5的第二课-hellopyqt5">
            
                    
                    hellopyqt5
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../note/note1-5.html">
            
                <a href="../note/note1-5.html#PyQt5的第三课-pyqt5与qtdesigner对照分析">
            
                    
                    pyqt5与qtdesigner对照分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../note/note1-5.html">
            
                <a href="../note/note1-5.html#PyQt5的第四课-pyqt5设置窗体图标">
            
                    
                    pyqt5设置窗体图标
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../note/note1-5.html">
            
                <a href="../note/note1-5.html#PyQt5的第五课-pyqt5显示提示框">
            
                    
                    pyqt5显示提示框
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../note/note6-10.html">
            
                <a href="../note/note6-10.html#PyQt5的第六课-PyQt5类的封装">
            
                    
                    PyQt5类的封装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../note/note6-10.html">
            
                <a href="../note/note6-10.html#PyQt5的第七课-PyQt5消息盒子QMessageBox">
            
                    
                    PyQt5消息盒子QMessageBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../note/note6-10.html">
            
                <a href="../note/note6-10.html#PyQt5的第八课-PyQt5窗体居中和布局">
            
                    
                    PyQt5窗体居中和布局
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../note/note6-10.html">
            
                <a href="../note/note6-10.html#PyQt5的第久课-PyQt5窗体绝对布局和相对布局">
            
                    
                    PyQt5窗体绝对布局和相对布局
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../note/note6-10.html">
            
                <a href="../note/note6-10.html#PyQt5的第时课-PyQt5网格布局QGridLayout">
            
                    
                    PyQt5网格布局QGridLayout
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.11" data-path="../note/note11-15.html">
            
                <a href="../note/note11-15.html#PyQt5的第十一课-PyQt5三原色案例">
            
                    
                    PyQt5三原色案例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.12" data-path="../note/note11-15.html">
            
                <a href="../note/note11-15.html#PyQt5的第十二课-PyQt5三原色">
            
                    
                    PyQt5三原色
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.13" data-path="../note/note11-15.html">
            
                <a href="../note/note11-15.html#PyQt5的第十三课-PyQt5复选框QCheckBox控件事件应用">
            
                    
                    PyQt5复选框QCheckBox控件事件应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.14" data-path="../note/note11-15.html">
            
                <a href="../note/note11-15.html#PyQt5的第十四课-PyQt5滑块控件Qslider的应用">
            
                    
                    PyQt5滑块控件Qslider的应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.15" data-path="../note/note11-15.html">
            
                <a href="../note/note11-15.html#PyQt5的第十五课-PyQt5进度条QProgressBar应用">
            
                    
                    PyQt5进度条QProgressBar应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.16" data-path="../note/note16-19.html">
            
                <a href="../note/note16-19.html#PyQt5的第十六课-PyQt5载入图片QPixmap应用">
            
                    
                    PyQt5载入图片QPixmap应用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.17" data-path="../note/note16-19.html">
            
                <a href="../note/note16-19.html#PyQt5的第十七课-PyQt5下拉列表控件QComboBox">
            
                    
                    PyQt5下拉列表控件QComboBox
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.18" data-path="../note/note16-19.html">
            
                <a href="../note/note16-19.html#PyQt5的第十八课-PyQt5日历控件QCalendarWidget">
            
                    
                    PyQt5日历控件QCalendarWidget
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.19" data-path="../note/note16-19.html">
            
                <a href="../note/note16-19.html#PyQt5的第十久课-PyQt5菜单menu应用,新建多窗口">
            
                    
                    PyQt5菜单menu应用,新建多窗口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.20" data-path="../note/socket.html">
            
                <a href="../note/socket.html">
            
                    
                    CS架构的建议聊天室
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    代码例子
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="demo1.html">
            
                <a href="demo1.html">
            
                    
                    演示1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="demo2.html">
            
                <a href="demo2.html#起步">
            
                    
                    起步
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="demo2.html">
            
                <a href="demo2.html#说明">
            
                    
                    说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="demo2.html">
            
                <a href="demo2.html#菜单栏和工具栏">
            
                    
                    菜单栏和工具栏
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="demo2.html">
            
                <a href="demo2.html#布局管理">
            
                    
                    布局管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="demo2.html">
            
                <a href="demo2.html#事件和信号">
            
                    
                    事件和信号
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="demo2.html">
            
                <a href="demo2.html#对话框">
            
                    
                    对话框
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="demo2.html">
            
                <a href="demo2.html#控件">
            
                    
                    控件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="demo2.html">
            
                <a href="demo2.html#拖拽">
            
                    
                    拖拽
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="demo2.html">
            
                <a href="demo2.html#绘图">
            
                    
                    绘图
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="demo2.html">
            
                <a href="demo2.html#39自定义组件">
            
                    
                    39自定义组件
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >起步</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x83DC;&#x5355;&#x680F;&#x548C;&#x5DE5;&#x5177;&#x680F;">&#x83DC;&#x5355;&#x680F;&#x548C;&#x5DE5;&#x5177;&#x680F;</h1>
<h3 id="01&#x7A97;&#x53E3;&#x5C45;&#x4E2D;">01&#x7A97;&#x53E3;&#x5C45;&#x4E2D;</h3>
<pre><code class="lang-python">
<span class="hljs-comment"># &#x5BFC;&#x5165;&#x9700;&#x8981;&#x7684;&#x5305;&#x548C;&#x6A21;&#x5757;</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QDesktopWidget
<span class="hljs-comment"># QDesktopWidget&#x8FD9;&#x4E2A;&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x6237;&#x7684;&#x684C;&#x9762;&#x4FE1;&#x606F;,&#x5305;&#x62EC;&#x5C4F;&#x5E55;&#x7684;&#x5927;&#x5C0F;</span>
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QApplication

<span class="hljs-comment"># &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7C7B;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ex</span><span class="hljs-params">(QWidget)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        self.resize(<span class="hljs-number">250</span>,<span class="hljs-number">150</span>)
        self.center()
        <span class="hljs-comment"># &#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x6211;&#x4EEC;&#x4E0B;&#x9762;&#x5199;&#x7684;,&#x5B9E;&#x73B0;&#x5BF9;&#x8BDD;&#x6846;&#x5C45;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;</span>
        self.setWindowTitle(<span class="hljs-string">&apos;chuangkou&#x8981;&#x5C45;&#x4E2D;&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">center</span><span class="hljs-params">(self)</span>:</span>
        qr = self.frameGeometry()
        <span class="hljs-comment"># &#x5F97;&#x5230;&#x4E86;&#x4E3B;&#x7A97;&#x53E3;&#x5927;&#x5C0F;</span>
        print(<span class="hljs-string">&apos;qr:&apos;</span>,qr)
        cp = QDesktopWidget().availableGeometry().center()
        <span class="hljs-comment"># &#x83B7;&#x53D6;&#x663E;&#x793A;&#x5668;&#x7684;&#x5206;&#x8FA8;&#x7387;,&#x7136;&#x540E;&#x5F97;&#x5230;&#x4E2D;&#x95F4;&#x70B9;&#x7684;&#x4F4D;&#x7F6E;</span>
        print(<span class="hljs-string">&apos;cp:&apos;</span>,cp)
        qr.moveCenter(cp)
        <span class="hljs-comment"># &#x7136;&#x540E;&#x628A;&#x81EA;&#x5DF1;&#x7684;&#x7A97;&#x53E3;&#x7684;&#x4E2D;&#x5FC3;&#x70B9;&#x653E;&#x5230;qr&#x7684;&#x4E2D;&#x5FC3;&#x70B9;</span>
        self.move(qr.topLeft())

app = QApplication(sys.argv)
demo1 = Ex()
sys.exit(app.exec_())
</code></pre>
<h3 id="02-&#x72B6;&#x6001;&#x680F;">02 &#x72B6;&#x6001;&#x680F;</h3>
<pre><code class="lang-python">
<span class="hljs-comment"># &#x5BFC;&#x5165;&#x9700;&#x8981;&#x7684;&#x5305;&#x548C;&#x6A21;&#x5757;</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-comment"># from PyQt5.QtWidgets import QWidget</span>
<span class="hljs-comment"># from PyQt5.QtWidgets import QDesktopWidget</span>
<span class="hljs-comment"># QDesktopWidget&#x8FD9;&#x4E2A;&#x5E93;&#x63D0;&#x4F9B;&#x4E86;&#x7528;&#x6237;&#x7684;&#x684C;&#x9762;&#x4FE1;&#x606F;,&#x5305;&#x62EC;&#x5C4F;&#x5E55;&#x7684;&#x5927;&#x5C0F;</span>
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QApplication
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ex</span><span class="hljs-params">(QMainWindow)</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># &#x72B6;&#x6001;&#x680F;&#x662F;&#x7531;&#x8FD9;&#x4E2A;&#x521B;&#x5EFA;&#x7684;</span>
        self.statusBar().showMessage(<span class="hljs-string">&apos;&#x51C6;&#x5907;&apos;</span>)
        <span class="hljs-comment"># &#x8C03;&#x7528;QtGui.QMainWindow &#x7C7B;&#x7684; statusBar()&#x65B9;&#x6CD5;</span>
        <span class="hljs-comment">#3 &#x521B;&#x5EFA;&#x72B6;&#x6001;&#x680F;.&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x680F;,&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x680F;&#x5BF9;&#x8C61;.</span>
        <span class="hljs-comment">#3 showMessage()&#x65B9;&#x6CD5;&#x5728;&#x72B6;&#x6001;&#x680F;&#x4E0A;&#x663E;&#x793A;&#x4E00;&#x6761;&#x4FE1;&#x606F;</span>
        self.setGeometry(<span class="hljs-number">300</span>,<span class="hljs-number">300</span>,<span class="hljs-number">250</span>,<span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x6807;&#x9898;&#x8FD8;&#x662F;&#x8981;&#x53D6;&#x7684;&apos;</span>)
        <span class="hljs-comment">#&#x663E;&#x793A;</span>
        self.show()

app = QApplication(sys.argv)
demo1 = Ex()
sys.exit(app.exec_())
</code></pre>
<h3 id="03&#x83DC;&#x5355;&#x680F;">03&#x83DC;&#x5355;&#x680F;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QApplication
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QAction
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> qApp
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QIcon

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Ex</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super(Ex, self).__init__()
        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        exitAct = QAction(QIcon(<span class="hljs-string">&quot;exit.png&quot;</span>),<span class="hljs-string">&apos;&amp;Exit&apos;</span>,self)
        print(exitAct)
        exitAct.setShortcut(<span class="hljs-string">&quot;ctrl+q&quot;</span>)
        exitAct.setStatusTip(<span class="hljs-string">&apos;tuichu&#x5E94;&#x7528;&apos;</span>)
        exitAct.triggered.connect(qApp.quit)

        self.statusBar()

        menubar = self.menuBar()
        fileMenu = menubar.addMenu(<span class="hljs-string">&apos;&amp;File&apos;</span>)
        fileMenu.addAction(exitAct)

        self.setGeometry(<span class="hljs-number">300</span>,<span class="hljs-number">300</span>,<span class="hljs-number">399</span>,<span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x51B3;&#x8D5B;&#x4F60;&#x7535;&#x8111;&#x7684;&apos;</span>)
        self.show()

app = QApplication(sys.argv)
demo1 = Ex()
sys.exit(app.exec_())
</code></pre>
<h3 id="04&#x5B50;&#x83DC;&#x5355;">04&#x5B50;&#x83DC;&#x5355;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, QAction, QMenu, QApplication

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        menubar = self.menuBar()
        fileMenu = menubar.addMenu(<span class="hljs-string">&apos;File&apos;</span>)
        impMenu = QMenu(<span class="hljs-string">&apos;Import&apos;</span>, self)
        impAct = QAction(<span class="hljs-string">&apos;Import mail&apos;</span>, self)
        impMenu.addAction(impAct)

        newAct = QAction(<span class="hljs-string">&apos;New&apos;</span>, self)

        fileMenu.addAction(newAct)
        fileMenu.addMenu(impMenu)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Submenu&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="05-&#x52FE;&#x9009;&#x83DC;&#x5355;">05 &#x52FE;&#x9009;&#x83DC;&#x5355;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, QAction, QApplication

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.statusbar = self.statusBar()
        self.statusbar.showMessage(<span class="hljs-string">&apos;Ready&apos;</span>)

        menubar = self.menuBar()
        viewMenu = menubar.addMenu(<span class="hljs-string">&apos;View&apos;</span>)

        <span class="hljs-comment"># &#x672C;&#x4F8B;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x884C;&#x4E3A;&#x83DC;&#x5355;&#x3002;&#x8FD9;&#x4E2A;&#x884C;&#x4E3A;&#xFF0F;&#x52A8;&#x4F5C;&#x80FD;&#x5207;&#x6362;&#x72B6;&#x6001;&#x680F;&#x663E;&#x793A;&#x6216;&#x8005;&#x9690;&#x85CF;&#x3002;</span>
        viewStatAct = QAction(<span class="hljs-string">&apos;View statusbar&apos;</span>, self, checkable=<span class="hljs-keyword">True</span>)
        viewStatAct.setStatusTip(<span class="hljs-string">&apos;View statusbar&apos;</span>)        <span class="hljs-comment"># &#x7528;checkable&#x9009;&#x9879;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x80FD;&#x9009;&#x4E2D;&#x7684;&#x83DC;&#x5355;&#x3002;</span>
        viewStatAct.setChecked(<span class="hljs-keyword">True</span>)        <span class="hljs-comment"># &#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x4E3A;&#x9009;&#x4E2D;&#x72B6;&#x6001;</span>
        viewStatAct.triggered.connect(self.toggleMenu)

        viewMenu.addAction(viewStatAct)
        <span class="hljs-comment"># &#x4F9D;&#x636E;&#x9009;&#x4E2D;&#x72B6;&#x6001;&#x5207;&#x6362;&#x72B6;&#x6001;&#x680F;&#x7684;&#x663E;&#x793A;&#x4E0E;&#x5426;&#x3002;</span>
        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Check menu&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">toggleMenu</span><span class="hljs-params">(self, state)</span>:</span>

        <span class="hljs-keyword">if</span> state:
            self.statusbar.show()
        <span class="hljs-keyword">else</span>:
            self.statusbar.hide()

app = QApplication(sys.argv)
demo1 = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="06-&#x53F3;&#x952E;&#x83DC;&#x5355;">06 &#x53F3;&#x952E;&#x83DC;&#x5355;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, qApp, QMenu, QApplication


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Context menu&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">contextMenuEvent</span><span class="hljs-params">(self, event)</span>:</span>
        cmenu = QMenu(self)

        newAct = cmenu.addAction(<span class="hljs-string">&quot;New&quot;</span>)
        print(newAct)
        opnAct = cmenu.addAction(<span class="hljs-string">&quot;Open&quot;</span>)
        print(opnAct)
        quitAct = cmenu.addAction(<span class="hljs-string">&quot;Quit&quot;</span>)
        action = cmenu.exec_(self.mapToGlobal(event.pos()))

        <span class="hljs-keyword">if</span> action == quitAct:
            qApp.quit()
        <span class="hljs-keyword">elif</span> action == opnAct:
            print(<span class="hljs-string">&apos;&#x6253;&#x5F00;&#x5C31;&#x6253;&#x5F00;&apos;</span>)
        <span class="hljs-keyword">elif</span> action == newAct:
            print(<span class="hljs-string">&apos;&#x65B0;&#x5EFA;&#x5C31;&#x65B0;&#x5EFA;&apos;</span>)


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="07&#x5DE5;&#x5177;&#x680F;">07&#x5DE5;&#x5177;&#x680F;</h3>
<pre><code class="lang-python">
<span class="hljs-comment"># &#x83DC;&#x5355;&#x680F;&#x5305;&#x542B;&#x4E86;&#x6240;&#x6709;&#x7684;&#x547D;&#x4EE4;&#xFF0C;&#x5DE5;&#x5177;&#x680F;&#x5C31;&#x662F;&#x5E38;&#x7528;&#x7684;&#x547D;&#x4EE4;&#x7684;&#x96C6;&#x5408;&#x3002;</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, QAction, qApp, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QIcon

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        exitAct = QAction(QIcon(<span class="hljs-string">&apos;logo.png&apos;</span>), <span class="hljs-string">&apos;Exit&apos;</span>, self)
        exitAct.setShortcut(<span class="hljs-string">&apos;Ctrl+Q&apos;</span>)
        exitAct.triggered.connect(qApp.quit)
        <span class="hljs-comment"># &#x548C;&#x4E0A;&#x9762;&#x7684;&#x83DC;&#x5355;&#x680F;&#x5DEE;&#x4E0D;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x884C;&#x4E3A;&#x5BF9;&#x8C61;&#xFF0C;</span>
        <span class="hljs-comment"># &#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x7ED1;&#x5B9A;&#x4E86;&#x4E00;&#x4E2A;&#x6807;&#x7B7E;&#xFF0C;&#x4E00;&#x4E2A;&#x56FE;&#x6807;&#x548C;&#x4E00;&#x4E2A;&#x5FEB;&#x6377;&#x952E;&#x3002;</span>
        <span class="hljs-comment"># &#x8FD9;&#x4E9B;&#x884C;&#x4E3A;&#x88AB;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x8C03;&#x7528;QtGui.QMainWindow&#x7684;quit&#x65B9;&#x6CD5;&#x9000;&#x51FA;&#x5E94;&#x7528;&#x3002;</span>
        self.toolbar = self.addToolBar(<span class="hljs-string">&apos;Exit&apos;</span>)
        self.toolbar.addAction(exitAct)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Toolbar&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
<span class="hljs-comment"># &#x4E0A;&#x9762;&#x7684;&#x4F8B;&#x5B50;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x5DE5;&#x5177;&#x680F;&#x8FD9;&#x4E2A;&#x5DE5;&#x5177;&#x680F;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x9000;&#x51FA;&#x5E94;&#x7528;&#x7684;&#x52A8;&#x4F5C;</span>
</code></pre>
<h3 id="08&#x4E3B;&#x7A97;&#x53E3;&#x5565;&#x90FD;&#x6709;&#x7684;&#x5462;">08&#x4E3B;&#x7A97;&#x53E3;(&#x5565;&#x90FD;&#x6709;&#x7684;&#x5462;)</h3>
<pre><code class="lang-python">
<span class="hljs-comment"># &#x672C;&#x6A21;&#x5757;&#x7684;&#x529F;&#x80FD;:&lt;&gt;</span>
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QTextEdit
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QAction
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QIcon


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        textEdit = QTextEdit()
        self.setCentralWidget(textEdit)

        exitAct = QAction(QIcon(<span class="hljs-string">&apos;logo.png&apos;</span>), <span class="hljs-string">&apos;&#x9000;&#x9000;&#x9000;&apos;</span>, self)
        exitAct.setShortcut(<span class="hljs-string">&apos;Ctrl+Q&apos;</span>)
        exitAct.setStatusTip(<span class="hljs-string">&apos;&#x9000;&#x51FA;&#x5E94;&#x7528;&apos;</span>)
        exitAct.triggered.connect(self.close)

        self.statusBar()

        menubar = self.menuBar()
        fileMenu = menubar.addMenu(<span class="hljs-string">&apos;&#x6587;&#x4EF6;&apos;</span>)
        fileMenu.addAction(exitAct)

        toolbar = self.addToolBar(<span class="hljs-string">&apos;&#x9000;&#x51FA;&apos;</span>)
        toolbar.addAction(exitAct)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">250</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4EE3;&#x7801;&#x7F16;&#x8F91;&#x5DE5;&#x5177;&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h1 id="&#x5E03;&#x5C40;&#x7BA1;&#x7406;">&#x5E03;&#x5C40;&#x7BA1;&#x7406;</h1>
<h3 id="09&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x7684;&#x5E94;&#x7528;">09&#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x7684;&#x5E94;&#x7528;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QLabel, QApplication

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        lbl1 = QLabel(<span class="hljs-string">&apos;Zetcode&apos;</span>, self)
        lbl1.move(<span class="hljs-number">15</span>, <span class="hljs-number">10</span>)

        lbl2 = QLabel(<span class="hljs-string">&apos;tutorials&apos;</span>, self)
        lbl2.move(<span class="hljs-number">35</span>, <span class="hljs-number">40</span>)

        lbl3 = QLabel(<span class="hljs-string">&apos;for programmers&apos;</span>, self)
        lbl3.move(<span class="hljs-number">55</span>, <span class="hljs-number">70</span>)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Absolute&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())

<span class="hljs-comment"># &#x7EDD;&#x5BF9;&#x5B9A;&#x4F4D;&#x5176;&#x5B9E;&#x8BF4;&#x767D;&#x4E86;&#x5C31;&#x662F;&#x4F7F;&#x7528;&#x76F8;&#x5BF9;&#x4E8E;&#x539F;&#x70B9;&#x7684;&#x50CF;&#x7D20;&#x6765;&#x8FDB;&#x884C;&#x8BA1;&#x7B97;</span>
</code></pre>
<h3 id="10-&#x76D2;&#x5B50;&#x5E03;&#x5C40;">10 &#x76D2;&#x5B50;&#x5E03;&#x5C40;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QPushButton,
    QHBoxLayout, QVBoxLayout, QApplication)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        okButton = QPushButton(<span class="hljs-string">&quot;OK&quot;</span>)
        cancelButton = QPushButton(<span class="hljs-string">&quot;Cancel&quot;</span>)

        hbox = QHBoxLayout()
        hbox.addStretch(<span class="hljs-number">1</span>)
        hbox.addWidget(okButton)
        hbox.addWidget(cancelButton)

        vbox = QVBoxLayout()
        vbox.addStretch(<span class="hljs-number">1</span>)
        vbox.addLayout(hbox)

        self.setLayout(vbox)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Buttons&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="11-&#x6805;&#x683C;&#x5E03;&#x5C40;&#x8868;&#x683C;">11 &#x6805;&#x683C;&#x5E03;&#x5C40;(&#x8868;&#x683C;)</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QGridLayout,
    QPushButton, QApplication)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()
        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        grid = QGridLayout()
        self.setLayout(grid)

        names = [<span class="hljs-string">&apos;Cls&apos;</span>, <span class="hljs-string">&apos;Bck&apos;</span>, <span class="hljs-string">&apos;&apos;</span>, <span class="hljs-string">&apos;Close&apos;</span>,
                 <span class="hljs-string">&apos;7&apos;</span>, <span class="hljs-string">&apos;8&apos;</span>, <span class="hljs-string">&apos;9&apos;</span>, <span class="hljs-string">&apos;/&apos;</span>,
                <span class="hljs-string">&apos;4&apos;</span>, <span class="hljs-string">&apos;5&apos;</span>, <span class="hljs-string">&apos;6&apos;</span>, <span class="hljs-string">&apos;*&apos;</span>,
                 <span class="hljs-string">&apos;1&apos;</span>, <span class="hljs-string">&apos;2&apos;</span>, <span class="hljs-string">&apos;3&apos;</span>, <span class="hljs-string">&apos;-&apos;</span>,
                <span class="hljs-string">&apos;0&apos;</span>, <span class="hljs-string">&apos;.&apos;</span>, <span class="hljs-string">&apos;=&apos;</span>, <span class="hljs-string">&apos;+&apos;</span>]

        positions = [(i,j) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">5</span>) <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(<span class="hljs-number">4</span>)]

        <span class="hljs-keyword">for</span> position, name <span class="hljs-keyword">in</span> zip(positions, names):

            <span class="hljs-keyword">if</span> name == <span class="hljs-string">&apos;&apos;</span>:
                <span class="hljs-keyword">continue</span>
            button = QPushButton(name)
            grid.addWidget(button, *position)

        self.move(<span class="hljs-number">300</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Calculator&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="12-&#x5236;&#x4F5C;&#x63D0;&#x4EA4;&#x53CD;&#x9988;&#x4FE1;&#x606F;&#x7684;&#x5E03;&#x5C40;">12 &#x5236;&#x4F5C;&#x63D0;&#x4EA4;&#x53CD;&#x9988;&#x4FE1;&#x606F;&#x7684;&#x5E03;&#x5C40;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> \
    (QWidget, QLabel, QLineEdit, QTextEdit, QGridLayout, QApplication)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        title = QLabel(<span class="hljs-string">&apos;Title&apos;</span>)
        author = QLabel(<span class="hljs-string">&apos;Author&apos;</span>)
        review = QLabel(<span class="hljs-string">&apos;Review&apos;</span>)

        titleEdit = QLineEdit()
        authorEdit = QLineEdit()
        reviewEdit = QTextEdit()

        grid = QGridLayout()
        grid.setSpacing(<span class="hljs-number">10</span>)

        grid.addWidget(title, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)
        grid.addWidget(titleEdit, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)

        grid.addWidget(author, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)
        grid.addWidget(authorEdit, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)

        grid.addWidget(review, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>)
        grid.addWidget(reviewEdit, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>)

        self.setLayout(grid)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">300</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Review&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h1 id="&#x4E8B;&#x4EF6;&#x548C;&#x4FE1;&#x53F7;">&#x4E8B;&#x4EF6;&#x548C;&#x4FE1;&#x53F7;</h1>
<h3 id="13-&#x4FE1;&#x53F7;&#x548C;&#x69FD;&#x673A;&#x5236;">13 &#x4FE1;&#x53F7;&#x548C;&#x69FD;&#x673A;&#x5236;</h3>
<pre><code class="lang-python">
<span class="hljs-string">&apos;&apos;&apos;
&#x4E8B;&#x4EF6;
signals and slots &#x88AB;&#x5176;&#x4ED6;&#x4EBA;&#x7FFB;&#x8BD1;&#x6210;&#x4FE1;&#x53F7;&#x548C;&#x69FD;&#x673A;&#x5236;&#xFF0C;(&#x2299;o&#x2299;)&#x2026;&#x6211;&#x8FD9;&#x91CC;&#x8FD8;&#x662F;&#x4E0D;&#x7FFB;&#x8BD1;&#x597D;&#x4E86;&#x3002;
&#x6240;&#x6709;&#x7684;&#x5E94;&#x7528;&#x90FD;&#x662F;&#x4E8B;&#x4EF6;&#x9A71;&#x52A8;&#x7684;&#x3002;&#x4E8B;&#x4EF6;&#x5927;&#x90E8;&#x5206;&#x90FD;&#x662F;&#x7531;&#x7528;&#x6237;&#x7684;&#x884C;&#x4E3A;&#x4EA7;&#x751F;&#x7684;&#xFF0C;&#x5F53;&#x7136;&#x4E5F;&#x6709;&#x5176;&#x4ED6;&#x7684;&#x4E8B;&#x4EF6;&#x4EA7;&#x751F;&#x65B9;&#x5F0F;&#xFF0C;
&#x6BD4;&#x5982;&#x7F51;&#x7EDC;&#x7684;&#x8FDE;&#x63A5;&#xFF0C;&#x7A97;&#x53E3;&#x7BA1;&#x7406;&#x5668;&#x6216;&#x8005;&#x5B9A;&#x65F6;&#x5668;&#x7B49;&#x3002;&#x8C03;&#x7528;&#x5E94;&#x7528;&#x7684;exec_()&#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x5E94;&#x7528;&#x4F1A;&#x8FDB;&#x5165;&#x4E3B;&#x5FAA;&#x73AF;&#xFF0C;&#x4E3B;&#x5FAA;&#x73AF;&#x4F1A;&#x76D1;&#x542C;&#x548C;&#x5206;&#x53D1;&#x4E8B;&#x4EF6;&#x3002;
&#x5728;&#x4E8B;&#x4EF6;&#x6A21;&#x578B;&#x4E2D;&#xFF0C;&#x6709;&#x4E09;&#x4E2A;&#x89D2;&#x8272;&#xFF1A;
&#x4E8B;&#x4EF6;&#x6E90;
&#x4E8B;&#x4EF6;
&#x4E8B;&#x4EF6;&#x76EE;&#x6807;
&#x4E8B;&#x4EF6;&#x6E90;&#x5C31;&#x662F;&#x53D1;&#x751F;&#x4E86;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x4E8B;&#x4EF6;&#x662F;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x72B6;&#x6001;&#x6539;&#x53D8;&#x7684;&#x5185;&#x5BB9;&#x3002;
&#x4E8B;&#x4EF6;&#x76EE;&#x6807;&#x662F;&#x4E8B;&#x4EF6;&#x60F3;&#x4F5C;&#x7528;&#x7684;&#x76EE;&#x6807;&#x3002;&#x4E8B;&#x4EF6;&#x6E90;&#x7ED1;&#x5B9A;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x4F5C;&#x7528;&#x4E8E;&#x4E8B;&#x4EF6;&#x76EE;&#x6807;&#x8EAB;&#x4E0A;&#x3002;
PyQt5&#x5904;&#x7406;&#x4E8B;&#x4EF6;&#x65B9;&#x9762;&#x6709;&#x4E2A;signal and slot&#x673A;&#x5236;&#x3002;Signals and slots&#x7528;&#x4E8E;&#x5BF9;&#x8C61;&#x95F4;&#x7684;&#x901A;&#x8BAF;&#x3002;
&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53D1;&#x751F;&#x4E00;&#x4E2A;signal&#xFF0C;slot&#x662F;&#x7528;&#x6765;&#x88AB;Python&#x8C03;&#x7528;&#x7684;
&#xFF08;&#x76F8;&#x5F53;&#x4E8E;&#x4E00;&#x4E2A;&#x53E5;&#x67C4;&#xFF1F;&#x8FD9;&#x4E2A;&#x8BCD;&#x4E5F;&#x597D;&#x6076;&#x5FC3;&#xFF0C;&#x5C31;&#x662F;&#x76F8;&#x5F53;&#x4E8E;&#x4E8B;&#x4EF6;&#x7684;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#xFF09;slot&#x53EA;&#x6709;&#x5728;&#x4E8B;&#x4EF6;&#x89E6;&#x53D1;&#x7684;&#x65F6;&#x5019;&#x624D;&#x80FD;&#x8C03;&#x7528;&#x3002;
&apos;&apos;&apos;</span>

<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> \
    (QWidget, QLCDNumber, QSlider, QVBoxLayout, QApplication)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        lcd = QLCDNumber(self)
        print(<span class="hljs-string">&quot;lcd:&quot;</span>,lcd)
        sld = QSlider(Qt.Horizontal, self)
        print(<span class="hljs-string">&quot;sld&quot;</span>,sld)
        vbox = QVBoxLayout()
        print(vbox)
        vbox.addWidget(lcd)
        vbox.addWidget(sld)

        self.setLayout(vbox)
        print(lcd.display)
        sld.valueChanged.connect(lcd.display)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4FE1;&#x53F7;&#x548C;&#x69FD;&#x673A;&#x5236;&#x7684;&apos;</span>)
        self.show()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="14-&#x91CD;&#x6784;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;">14 &#x91CD;&#x6784;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x5668;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4E8B;&#x4EF6;&#x7684;&#x624B;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">keyPressEvent</span><span class="hljs-params">(self, e)</span>:</span>

        <span class="hljs-keyword">if</span> e.key() == Qt.Key_Escape:
            self.close()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="15-&#x4E8B;&#x4EF6;&#x5BF9;&#x50CF;">15 &#x4E8B;&#x4EF6;&#x5BF9;&#x50CF;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication, QGridLayout, QLabel

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        grid = QGridLayout()
        grid.setSpacing(<span class="hljs-number">10</span>)

        x = <span class="hljs-number">0</span>
        y = <span class="hljs-number">0</span>

        self.text = <span class="hljs-string">&quot;x: {0},  y: {1}&quot;</span>.format(x, y)

        self.label = QLabel(self.text, self)
        grid.addWidget(self.label, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, Qt.AlignTop)

        self.setMouseTracking(<span class="hljs-keyword">True</span>)

        self.setLayout(grid)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Event object&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseMoveEvent</span><span class="hljs-params">(self, e)</span>:</span>

        x = e.x()
        y = e.y()

        text = <span class="hljs-string">&quot;x: {0},  y: {1}&quot;</span>.format(x, y)
        self.label.setText(text)


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="16&#x4E8B;&#x4EF6;&#x53D1;&#x9001;">16&#x4E8B;&#x4EF6;&#x53D1;&#x9001;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, QPushButton, QApplication


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        btn1 = QPushButton(<span class="hljs-string">&quot;&#x6309;&#x94AE;&#x8001;&#x5927;&quot;</span>, self)
        btn1.move(<span class="hljs-number">30</span>, <span class="hljs-number">50</span>)

        btn2 = QPushButton(<span class="hljs-string">&quot;&#x6309;&#x94AE;&#x8001;&#x4E8C;&quot;</span>, self)
        btn2.move(<span class="hljs-number">150</span>, <span class="hljs-number">50</span>)

        btn1.clicked.connect(self.buttonClicked)
        btn2.clicked.connect(self.buttonClicked)

        self.statusBar()

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">290</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4E8B;&#x4EF6;&#x53D1;&#x9001;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">buttonClicked</span><span class="hljs-params">(self)</span>:</span>

        sender = self.sender()
        self.statusBar().showMessage(sender.text() + <span class="hljs-string">&apos;&#x88AB;&#x6309;&#x90A3;&#x513F;&#x4E86;&apos;</span>)


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="17-&#x4FE1;&#x53F7;&#x53D1;&#x9001;">17 &#x4FE1;&#x53F7;&#x53D1;&#x9001;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> pyqtSignal, QObject
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QMainWindow, QApplication


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Communicate</span><span class="hljs-params">(QObject)</span>:</span>

    closeApp = pyqtSignal()


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.c = Communicate()
        self.c.closeApp.connect(self.close)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">290</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Emit signal&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mousePressEvent</span><span class="hljs-params">(self, event)</span>:</span>

        self.c.closeApp.emit()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h1 id="&#x5BF9;&#x8BDD;&#x6846;">&#x5BF9;&#x8BDD;&#x6846;</h1>
<h3 id="18-&#x5BF9;&#x8BDD;&#x6846;&#x80FD;&#x591F;&#x8F93;&#x5165;&#x6587;&#x5B57;&#x5466;&#x5466;">18 &#x5BF9;&#x8BDD;&#x6846;(&#x80FD;&#x591F;&#x8F93;&#x5165;&#x6587;&#x5B57;&#x5466;&#x5466;)</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QPushButton, QLineEdit,
    QInputDialog, QApplication)
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.btn = QPushButton(<span class="hljs-string">&apos;Dialog&apos;</span>, self)
        self.btn.move(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)
        self.btn.clicked.connect(self.showDialog)

        self.le = QLineEdit(self)
        self.le.move(<span class="hljs-number">130</span>, <span class="hljs-number">22</span>)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">290</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Input dialog&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showDialog</span><span class="hljs-params">(self)</span>:</span>

        text, ok = QInputDialog.getText(self, <span class="hljs-string">&apos;Input Dialog&apos;</span>,
            <span class="hljs-string">&apos;Enter your name:&apos;</span>)

        <span class="hljs-keyword">if</span> ok:
            self.le.setText(str(text))

        print(text+<span class="hljs-string">&quot;&#x54C8;&#x54C8;&quot;</span>)


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="19-&#x9009;&#x53D6;&#x989C;&#x8272;nb&#x574F;&#x4E86;">19 &#x9009;&#x53D6;&#x989C;&#x8272;(NB&#x574F;&#x4E86;)</h3>
<pre><code class="lang-python">
<span class="hljs-comment"># &#x672C;&#x6A21;&#x5757;&#x7684;&#x529F;&#x80FD;:&lt;QColorDialog&#x63D0;&#x4F9B;&#x989C;&#x8272;&#x7684;&#x9009;&#x62E9;&gt;</span>
<span class="hljs-comment"># TODO &#x8FD9;&#x4E2A;&#x5389;&#x5BB3;,&#x76F4;&#x63A5;&#x8C03;&#x7528;&#x7CFB;&#x7EDF;&#x7684;&#x989C;&#x8272;&#x9009;&#x62E9;&#x6846;</span>
<span class="hljs-comment"># TODO &#x5F3A;,&#x5B9E;&#x5728;&#x662F;&#x5F3A;</span>
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QPushButton, QFrame,
    QColorDialog, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QColor
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        col = QColor(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)

        self.btn = QPushButton(<span class="hljs-string">&apos;Dialog&apos;</span>, self)
        self.btn.move(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)

        self.btn.clicked.connect(self.showDialog)

        self.frm = QFrame(self)
        self.frm.setStyleSheet(<span class="hljs-string">&quot;QWidget { background-color: %s }&quot;</span>
            % col.name())
        self.frm.setGeometry(<span class="hljs-number">130</span>, <span class="hljs-number">22</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">180</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Color dialog&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showDialog</span><span class="hljs-params">(self)</span>:</span>

        col = QColorDialog.getColor()

        <span class="hljs-keyword">if</span> col.isValid():
            self.frm.setStyleSheet(<span class="hljs-string">&quot;QWidget { background-color: %s }&quot;</span>
                % col.name())


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<p>&#x52A0;&#x6CB9;,&#x90FD;&#x770B;&#x5230;&#x4E00;&#x534A;&#x4E86;&#x4F60;!!!</p>
<pre><code class="lang-python">
<span class="hljs-string">&apos;&apos;&apos;

       &#x250C;&#x2500;&#x2510;       &#x250C;&#x2500;&#x2510; + +
    &#x250C;&#x2500;&#x2500;&#x2518; &#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518; &#x2534;&#x2500;&#x2500;&#x2510;++
    &#x2502;                 &#x2502;
    &#x2502;       &#x2500;&#x2500;&#x2500;       &#x2502;++ + + +
    &#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2500;&#x2500;&#x2500;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588; &#x2502;+
    &#x2502;                 &#x2502;+
    &#x2502;       &#x2500;&#x2534;&#x2500;       &#x2502;
    &#x2502;                 &#x2502;
    &#x2514;&#x2500;&#x2500;&#x2500;&#x2510;         &#x250C;&#x2500;&#x2500;&#x2500;&#x2518;
        &#x2502;         &#x2502;
        &#x2502;         &#x2502;   + +
        &#x2502;         &#x2502;
        &#x2502;         &#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2510;
        &#x2502;                        &#x2502;
        &#x2502;                        &#x251C;&#x2500;&#x2510;
        &#x2502;                        &#x250C;&#x2500;&#x2518;
        &#x2502;                        &#x2502;
        &#x2514;&#x2500;&#x2510;  &#x2510;  &#x250C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2510;  &#x250C;&#x2500;&#x2500;&#x2518;  + + + +
          &#x2502; &#x2500;&#x2524; &#x2500;&#x2524;       &#x2502; &#x2500;&#x2524; &#x2500;&#x2524;
          &#x2514;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2518;       &#x2514;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2518;  + + + +
                 &#x795E;&#x517D;&#x4FDD;&#x4F51;
                &#x4EE3;&#x7801;&#x65E0;BUG!


&apos;&apos;&apos;</span>
</code></pre>
<h3 id="20-&#x9009;&#x62E9;&#x5B57;&#x4F53;">20 &#x9009;&#x62E9;&#x5B57;&#x4F53;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QVBoxLayout, QPushButton,
    QSizePolicy, QLabel, QFontDialog, QApplication)
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        vbox = QVBoxLayout()

        btn = QPushButton(<span class="hljs-string">&apos;&#x6765;&#x6765;&#x6765;&apos;</span>, self)
        btn.setSizePolicy(QSizePolicy.Fixed,
            QSizePolicy.Fixed)

        btn.move(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)

        vbox.addWidget(btn)

        btn.clicked.connect(self.showDialog)

        self.lbl = QLabel(<span class="hljs-string">&apos;Knowledge only matters&apos;</span>, self)
        self.lbl.move(<span class="hljs-number">130</span>, <span class="hljs-number">20</span>)

        vbox.addWidget(self.lbl)
        self.setLayout(vbox)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">180</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x5B57;&#x4F53;&#x76EE;&#x5F55;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showDialog</span><span class="hljs-params">(self)</span>:</span>

        font, ok = QFontDialog.getFont()
        <span class="hljs-keyword">if</span> ok:
            self.lbl.setFont(font)
        print(<span class="hljs-string">&apos;&#x9009;&#x62E9;&#x7684;&#x5B57;&#x4F53;&#x662F;&apos;</span>,end=<span class="hljs-string">&quot;&quot;</span>)
        print(font)
        print(type(font))


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="21-&#x9009;&#x62E9;&#x6587;&#x4EF6;">21 &#x9009;&#x62E9;&#x6587;&#x4EF6;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> \
    (QMainWindow, QTextEdit, QAction, QFileDialog, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QIcon
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QMainWindow)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.textEdit = QTextEdit()
        self.setCentralWidget(self.textEdit)
        self.statusBar()

        openFile = QAction(QIcon(<span class="hljs-string">&apos;images/open.png&apos;</span>), <span class="hljs-string">&apos;Open&apos;</span>, self)
        openFile.setShortcut(<span class="hljs-string">&apos;Ctrl+O&apos;</span>)
        openFile.setStatusTip(<span class="hljs-string">&apos;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x6587;&#x4EF6;&apos;</span>)
        openFile.triggered.connect(self.showDialog)

        menubar = self.menuBar()
        fileMenu = menubar.addMenu(<span class="hljs-string">&apos;&amp;&#x6587;&#x4EF6;&apos;</span>)
        fileMenu.addAction(openFile)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">300</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;File dialog&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showDialog</span><span class="hljs-params">(self)</span>:</span>

        fname = QFileDialog.getOpenFileName(self, <span class="hljs-string">&apos;Open file&apos;</span>, <span class="hljs-string">&apos;/home&apos;</span>)

        <span class="hljs-keyword">if</span> fname[<span class="hljs-number">0</span>]:
            f = open(fname[<span class="hljs-number">0</span>], <span class="hljs-string">&apos;r&apos;</span>)

            <span class="hljs-keyword">with</span> f:
                data = f.read()
                self.textEdit.setText(data)
                print(data)
app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h1 id="&#x63A7;&#x4EF6;">&#x63A7;&#x4EF6;</h1>
<h3 id="22-qcheckbox&#x662F;&#x5565;&#x73A9;&#x610F;">22 QCheckBox&#x662F;&#x5565;&#x73A9;&#x610F;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QCheckBox, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        cb = QCheckBox(<span class="hljs-string">&apos;&#x6539;&#x6539;&#x6539;&apos;</span>, self)
        cb.move(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>)
        cb.toggle()
        cb.stateChanged.connect(self.changeTitle)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">250</span>, <span class="hljs-number">150</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x771F;&#x6B63;&#x7684;&#x6807;&#x9898;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">changeTitle</span><span class="hljs-params">(self, state)</span>:</span>

        <span class="hljs-keyword">if</span> state == Qt.Checked:
            self.setWindowTitle(<span class="hljs-string">&apos;&#x5047;&#x88C5;&#x6709;&#x6807;&#x9898;&apos;</span>)
        <span class="hljs-keyword">else</span>:
            self.setWindowTitle(<span class="hljs-string">&apos;&#x6CA1;&#x4E86;&apos;</span>)


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="23-&#x5207;&#x6362;&#x6309;&#x94AE;">23 &#x5207;&#x6362;&#x6309;&#x94AE;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QPushButton,
    QFrame, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QColor
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.col = QColor(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)

        redb = QPushButton(<span class="hljs-string">&apos;Red&apos;</span>, self)
        redb.setCheckable(<span class="hljs-keyword">True</span>)
        redb.move(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>)

        redb.clicked[bool].connect(self.setColor)

        greenb = QPushButton(<span class="hljs-string">&apos;Green&apos;</span>, self)
        greenb.setCheckable(<span class="hljs-keyword">True</span>)
        greenb.move(<span class="hljs-number">10</span>, <span class="hljs-number">60</span>)

        greenb.clicked[bool].connect(self.setColor)

        blueb = QPushButton(<span class="hljs-string">&apos;Blue&apos;</span>, self)
        blueb.setCheckable(<span class="hljs-keyword">True</span>)
        blueb.move(<span class="hljs-number">10</span>, <span class="hljs-number">110</span>)

        blueb.clicked[bool].connect(self.setColor)

        self.square = QFrame(self)
        self.square.setGeometry(<span class="hljs-number">150</span>, <span class="hljs-number">20</span>, <span class="hljs-number">100</span>, <span class="hljs-number">100</span>)
        self.square.setStyleSheet(<span class="hljs-string">&quot;QWidget { background-color: %s }&quot;</span> %
            self.col.name())

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">170</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Toggle button&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setColor</span><span class="hljs-params">(self, pressed)</span>:</span>

        source = self.sender()

        <span class="hljs-keyword">if</span> pressed:
            val = <span class="hljs-number">255</span>
        <span class="hljs-keyword">else</span>:
            val = <span class="hljs-number">0</span>

        <span class="hljs-keyword">if</span> source.text() == <span class="hljs-string">&quot;Red&quot;</span>:
            self.col.setRed(val)
        <span class="hljs-keyword">elif</span> source.text() == <span class="hljs-string">&quot;Green&quot;</span>:
            self.col.setGreen(val)
        <span class="hljs-keyword">else</span>:
            self.col.setBlue(val)

        self.square.setStyleSheet(<span class="hljs-string">&quot;QFrame { background-color: %s }&quot;</span> %
            self.col.name())


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="24-&#x6ED1;&#x5757;&#x662F;&#x4E2A;&#x597D;&#x4E1C;&#x897F;">24 &#x6ED1;&#x5757;&#x662F;&#x4E2A;&#x597D;&#x4E1C;&#x897F;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QSlider,
                             QLabel, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPixmap
<span class="hljs-keyword">import</span> sys


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        sld = QSlider(Qt.Horizontal, self)
        sld.setFocusPolicy(Qt.NoFocus)
        sld.setGeometry(<span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">100</span>, <span class="hljs-number">30</span>)
        sld.valueChanged[int].connect(self.changeValue)

        self.label = QLabel(self)
        self.label.setPixmap(QPixmap(<span class="hljs-string">&apos;images/logo.png&apos;</span>))
        self.label.setGeometry(<span class="hljs-number">160</span>, <span class="hljs-number">40</span>, <span class="hljs-number">80</span>, <span class="hljs-number">30</span>)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">170</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;s&#x4EC0;&#x4E48;&#x9E21;&#x513F;&#x73A9;&#x610F;r&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">changeValue</span><span class="hljs-params">(self, value)</span>:</span>

        <span class="hljs-keyword">if</span> value == <span class="hljs-number">0</span>:
            self.label.setPixmap(QPixmap(<span class="hljs-string">&apos;images/1.png&apos;</span>))
        <span class="hljs-keyword">elif</span> value &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> value &lt;= <span class="hljs-number">30</span>:
            self.label.setPixmap(QPixmap(<span class="hljs-string">&apos;images/2.png&apos;</span>))
        <span class="hljs-keyword">elif</span> value &gt; <span class="hljs-number">30</span> <span class="hljs-keyword">and</span> value &lt; <span class="hljs-number">80</span>:
            self.label.setPixmap(QPixmap(<span class="hljs-string">&apos;images/3.png&apos;</span>))
        <span class="hljs-keyword">else</span>:
            self.label.setPixmap(QPixmap(<span class="hljs-string">&apos;images/4.png&apos;</span>))


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="25-&#x8FDB;&#x5EA6;&#x6761;">25 &#x8FDB;&#x5EA6;&#x6761;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QProgressBar,
    QPushButton, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QBasicTimer
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.pbar = QProgressBar(self)
        self.pbar.setGeometry(<span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">200</span>, <span class="hljs-number">25</span>)

        self.btn = QPushButton(<span class="hljs-string">&apos;&#x8D70;&#x4F60;&apos;</span>, self)
        self.btn.move(<span class="hljs-number">40</span>, <span class="hljs-number">80</span>)
        self.btn.clicked.connect(self.doAction)

        self.timer = QBasicTimer()
        self.step = <span class="hljs-number">0</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">170</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x8FDB;&#x5EA6;&#x6761;&#x5C31;&#x6BD4;&#x8F83;&#x5F3A;&#x4E86;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">timerEvent</span><span class="hljs-params">(self, e)</span>:</span>

        <span class="hljs-keyword">if</span> self.step &gt;= <span class="hljs-number">200</span>:
            self.timer.stop()
            self.btn.setText(<span class="hljs-string">&apos;&#x5B8C;&#x6210;&#x5427;&apos;</span>)
            <span class="hljs-keyword">return</span>

        self.step = self.step + <span class="hljs-number">1</span>
        self.pbar.setValue(self.step)

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">doAction</span><span class="hljs-params">(self)</span>:</span>

        <span class="hljs-keyword">if</span> self.timer.isActive():
            self.timer.stop()
            self.btn.setText(<span class="hljs-string">&apos;&#x8D70;&#x8D70;&#x8D70;&apos;</span>)
        <span class="hljs-keyword">else</span>:
            self.timer.start(<span class="hljs-number">200</span>, self)
            self.btn.setText(<span class="hljs-string">&apos;&#x505C;,&#x5457;&#x8D70;&#x4E86;&apos;</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="26-&#x65E5;&#x5386;">26 &#x65E5;&#x5386;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QCalendarWidget,
    QLabel, QApplication, QVBoxLayout)
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QDate
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        vbox = QVBoxLayout(self)

        cal = QCalendarWidget(self)
        cal.setGridVisible(<span class="hljs-keyword">True</span>)
        cal.clicked[QDate].connect(self.showDate)

        vbox.addWidget(cal)

        self.lbl = QLabel(self)
        date = cal.selectedDate()
        self.lbl.setText(date.toString())

        vbox.addWidget(self.lbl)

        self.setLayout(vbox)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">300</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x770B;&#x65E5;&#x5386;&#xFF0C;&#x8BA4;&#x51C6;&#x6211;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">showDate</span><span class="hljs-params">(self, date)</span>:</span>

        self.lbl.setText(date.toString())

<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="27-&#x56FE;&#x7247;">27 &#x56FE;&#x7247;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QHBoxLayout,
    QLabel, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPixmap
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        hbox = QHBoxLayout(self)
        pixmap = QPixmap(<span class="hljs-string">&quot;images/09f04&quot;</span>)

        lbl = QLabel(self)
        lbl.setPixmap(pixmap)

        hbox.addWidget(lbl)
        self.setLayout(hbox)

        self.move(<span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Red Rock&apos;</span>)
        self.show()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="28&#x884C;&#x7F16;&#x8F91;">28&#x884C;&#x7F16;&#x8F91;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> \
    (QWidget, QLabel, QLineEdit, QApplication)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        self.lbl = QLabel(self)
        qle = QLineEdit(self)

        qle.move(<span class="hljs-number">60</span>, <span class="hljs-number">100</span>)
        self.lbl.move(<span class="hljs-number">60</span>, <span class="hljs-number">40</span>)

        qle.textChanged[str].connect(self.onChanged)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">170</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;QLineEdit&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">onChanged</span><span class="hljs-params">(self, text)</span>:</span>
        self.lbl.setText(text)
        self.lbl.adjustSize()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="29-qsplitter&#x662F;&#x5565;&#x73A9;&#x610F;&#x5462;">29 QSplitter&#x662F;&#x5565;&#x73A9;&#x610F;&#x5462;?</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QHBoxLayout, QFrame,
    QSplitter, QStyleFactory, QApplication)
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        hbox = QHBoxLayout(self)

        topleft = QFrame(self)
        topleft.setFrameShape(QFrame.StyledPanel)

        topright = QFrame(self)
        topright.setFrameShape(QFrame.StyledPanel)

        bottom = QFrame(self)
        bottom.setFrameShape(QFrame.StyledPanel)

        splitter1 = QSplitter(Qt.Horizontal)
        splitter1.addWidget(topleft)
        splitter1.addWidget(topright)

        splitter2 = QSplitter(Qt.Vertical)
        splitter2.addWidget(splitter1)
        splitter2.addWidget(bottom)

        hbox.addWidget(splitter2)
        self.setLayout(hbox)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">400</span>, <span class="hljs-number">300</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;QSplitter&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">onChanged</span><span class="hljs-params">(self, text)</span>:</span>

        self.lbl.setText(text)
        self.lbl.adjustSize()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h3 id="30-&#x4E0B;&#x62C9;&#x9009;&#x6846;">30 &#x4E0B;&#x62C9;&#x9009;&#x6846;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QLabel,
    QComboBox, QApplication)
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.lbl = QLabel(<span class="hljs-string">&quot;Ubuntu&quot;</span>, self)

        combo = QComboBox(self)
        combo.addItem(<span class="hljs-string">&quot;Ubuntu&quot;</span>)
        combo.addItem(<span class="hljs-string">&quot;Windows&quot;</span>)
        combo.addItem(<span class="hljs-string">&quot;centos&quot;</span>)
        combo.addItem(<span class="hljs-string">&quot;deepin&quot;</span>)
        combo.addItem(<span class="hljs-string">&quot;redhat&quot;</span>)
        combo.addItem(<span class="hljs-string">&quot;debain&quot;</span>)
        combo.move(<span class="hljs-number">50</span>, <span class="hljs-number">50</span>)
        self.lbl.move(<span class="hljs-number">50</span>, <span class="hljs-number">150</span>)

        combo.activated[str].connect(self.onActivated)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">200</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4E0B;&#x62C9;&#x9009;&#x6846;&#x7EC3;&#x4E60; &apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">onActivated</span><span class="hljs-params">(self, text)</span>:</span>

        self.lbl.setText(text)
        self.lbl.adjustSize()


app = QApplication(sys.argv)
ex = Example()
sys.exit(app.exec_())
</code></pre>
<h1 id="&#x62D6;&#x62FD;">&#x62D6;&#x62FD;</h1>
<h3 id="31-&#x7B80;&#x5355;&#x7684;&#x62D6;&#x653E;">31 &#x7B80;&#x5355;&#x7684;&#x62D6;&#x653E;</h3>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QPushButton, QWidget,
    QLineEdit, QApplication)
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Button</span><span class="hljs-params">(QPushButton)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, title, parent)</span>:</span>
        super().__init__(title, parent)

        self.setAcceptDrops(<span class="hljs-keyword">True</span>)


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dragEnterEvent</span><span class="hljs-params">(self, e)</span>:</span>

        <span class="hljs-keyword">if</span> e.mimeData().hasFormat(<span class="hljs-string">&apos;text/plain&apos;</span>):
            e.accept()
        <span class="hljs-keyword">else</span>:
            e.ignore()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dropEvent</span><span class="hljs-params">(self, e)</span>:</span>

        self.setText(e.mimeData().text())


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        edit = QLineEdit(<span class="hljs-string">&apos;&apos;</span>, self)
        edit.setDragEnabled(<span class="hljs-keyword">True</span>)
        edit.move(<span class="hljs-number">30</span>, <span class="hljs-number">65</span>)

        button = Button(<span class="hljs-string">&quot;Button&quot;</span>, self)
        button.move(<span class="hljs-number">190</span>, <span class="hljs-number">65</span>)

        self.setWindowTitle(<span class="hljs-string">&apos;Simple drag and drop&apos;</span>)
        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">150</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    ex.show()
    app.exec_()
</code></pre>
<h3 id="32-&#x62D6;&#x653E;&#x6309;&#x94AE;&#x7EC4;&#x4EF6;">32 &#x62D6;&#x653E;&#x6309;&#x94AE;&#x7EC4;&#x4EF6;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QPushButton, QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt, QMimeData
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QDrag
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Button</span><span class="hljs-params">(QPushButton)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, title, parent)</span>:</span>
        super().__init__(title, parent)


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mouseMoveEvent</span><span class="hljs-params">(self, e)</span>:</span>

        <span class="hljs-keyword">if</span> e.buttons() != Qt.RightButton:
            <span class="hljs-keyword">return</span>

        mimeData = QMimeData()

        drag = QDrag(self)
        drag.setMimeData(mimeData)
        drag.setHotSpot(e.pos() - self.rect().topLeft())

        dropAction = drag.exec_(Qt.MoveAction)


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mousePressEvent</span><span class="hljs-params">(self, e)</span>:</span>

        super().mousePressEvent(e)

        <span class="hljs-keyword">if</span> e.button() == Qt.LeftButton:
            print(<span class="hljs-string">&apos;&#x6309;&#x6211;&#x560E;&#x54C8;&apos;</span>)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setAcceptDrops(<span class="hljs-keyword">True</span>)

        self.button = Button(<span class="hljs-string">&apos;&#x6765;&#x5427;&#xFF01;&#xFF01;&#xFF01;&apos;</span>, self)
        self.button.move(<span class="hljs-number">100</span>, <span class="hljs-number">65</span>)

        self.setWindowTitle(<span class="hljs-string">&apos;&#x70B9;&#x51FB;&#x8FD8;&#x80FD;&#x632A;&apos;</span>)
        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">150</span>)


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dragEnterEvent</span><span class="hljs-params">(self, e)</span>:</span>

        e.accept()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">dropEvent</span><span class="hljs-params">(self, e)</span>:</span>

        position = e.pos()
        self.button.move(position)

        e.setDropAction(Qt.MoveAction)
        e.accept()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    ex.show()
    app.exec_()
<span class="hljs-string">&quot;&quot;&quot;
&#x62D6;&#x62FD;
&#x5728;GUI&#x91CC;&#xFF0C;&#x62D6;&#x653E;&#x662F;&#x6307;&#x7528;&#x6237;&#x70B9;&#x51FB;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x62D6;&#x52A8;&#xFF0C;&#x7136;&#x540E;&#x653E;&#x7F6E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x4E0A;&#x9762;&#x7684;&#x52A8;&#x4F5C;&#x3002;
&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x9700;&#x8981;&#x8C03;&#x7528;&#x5F88;&#x591A;&#x52A8;&#x4F5C;&#x548C;&#x65B9;&#x6CD5;&#xFF0C;&#x521B;&#x5EFA;&#x5F88;&#x591A;&#x53D8;&#x91CF;&#x3002;
&#x62D6;&#x653E;&#x80FD;&#x8BA9;&#x7528;&#x6237;&#x5F88;&#x76F4;&#x89C2;&#x7684;&#x64CD;&#x4F5C;&#x5F88;&#x590D;&#x6742;&#x7684;&#x903B;&#x8F91;&#x3002;
&#x4E00;&#x822C;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x62D6;&#x653E;&#x4E24;&#x79CD;&#x4E1C;&#x897F;&#xFF1A;&#x6570;&#x636E;&#x548C;&#x56FE;&#x5F62;&#x754C;&#x9762;&#x3002;
&#x628A;&#x4E00;&#x4E2A;&#x56FE;&#x50CF;&#x4ECE;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x62D6;&#x653E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x4E0A;&#x7684;&#x5B9E;&#x8D28;&#x662F;&#x64CD;&#x4F5C;&#x4E8C;&#x8FDB;&#x5236;&#x6570;&#x636E;&#x3002;
&#x628A;&#x4E00;&#x4E2A;&#x8868;&#x683C;&#x4ECE;Firefox&#x4E0A;&#x62D6;&#x653E;&#x5230;&#x53E6;&#x5916;&#x4E00;&#x4E2A;&#x4F4D;&#x7F6E; &#x7684;&#x5B9E;&#x8D28;&#x662F;&#x64CD;&#x4F5C;&#x4E00;&#x4E2A;&#x56FE;&#x5F62;&#x7EC4;&#x3002;
&quot;&quot;&quot;</span>
</code></pre>
<h1 id="&#x7ED8;&#x56FE;">&#x7ED8;&#x56FE;</h1>
<h3 id="33-&#x6587;&#x672C;&#x7684;&#x6D82;&#x9E26;&#x8FD9;&#x4E2A;&#x597D;&#x73A9;&#x54C8;">33 &#x6587;&#x672C;&#x7684;&#x6D82;&#x9E26;(&#x8FD9;&#x4E2A;&#x597D;&#x73A9;&#x54C8;)</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QColor, QFont
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.text = <span class="hljs-string">&quot;&#x6D82;&#x9E26;&#x8981;&#x6D82;&#x7684;&#x6709;&#x7075;&#x9B42;&quot;</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">170</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x7ED8;&#x753B;&#x677F;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, event)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawText(event, qp,<span class="hljs-number">168</span>, <span class="hljs-number">34</span>, <span class="hljs-number">243</span>)
        qp.end()

        <span class="hljs-comment"># qp1 = QPainter()</span>
        <span class="hljs-comment"># qp1.begin(self)</span>
        <span class="hljs-comment"># self.drawText(event, qp1,168, 34, 23)</span>
        <span class="hljs-comment"># qp1.end()</span>


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawText</span><span class="hljs-params">(self, event, qp, r,g,b)</span>:</span>

        qp.setPen(QColor(r,g,b))
        qp.setFont(QFont(<span class="hljs-string">&apos;&#x5FAE;&#x8F6F;&#x96C5;&#x9ED1;&apos;</span>, <span class="hljs-number">15</span>))
        qp.drawText(event.rect(), Qt.AlignCenter, self.text)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="34-&#x70B9;&#x7684;&#x7ED8;&#x753B;">34 &#x70B9;&#x7684;&#x7ED8;&#x753B;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys, random

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">190</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x4E00;&#x5927;&#x5806;&#x70B9;&#x70B9;&#x513F;&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawPoints(qp)
        qp.end()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawPoints</span><span class="hljs-params">(self, qp)</span>:</span>

        qp.setPen(Qt.red)
        size = self.size()

        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1000</span>):
            x = random.randint(<span class="hljs-number">1</span>, size.width()<span class="hljs-number">-1</span>)
            y = random.randint(<span class="hljs-number">1</span>, size.height()<span class="hljs-number">-1</span>)
            qp.drawPoint(x, y)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="35-&#x989C;&#x8272;">35 &#x989C;&#x8272;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QColor, QBrush
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">350</span>, <span class="hljs-number">100</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Colours&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawRectangles(qp)
        qp.end()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawRectangles</span><span class="hljs-params">(self, qp)</span>:</span>

        col = QColor(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
        col.setNamedColor(<span class="hljs-string">&apos;#d4d4d4&apos;</span>)
        qp.setPen(col)

        qp.setBrush(QColor(<span class="hljs-number">200</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>))
        qp.drawRect(<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        qp.setBrush(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">80</span>, <span class="hljs-number">0</span>, <span class="hljs-number">160</span>))
        qp.drawRect(<span class="hljs-number">130</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        qp.setBrush(QColor(<span class="hljs-number">25</span>, <span class="hljs-number">0</span>, <span class="hljs-number">90</span>, <span class="hljs-number">200</span>))
        qp.drawRect(<span class="hljs-number">250</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="36-qpen&#x662F;&#x7B14;&#x4E48;">36 QPen&#x662F;&#x7B14;&#x4E48;</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QPen
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">280</span>, <span class="hljs-number">270</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Pen styles&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawLines(qp)
        qp.end()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawLines</span><span class="hljs-params">(self, qp)</span>:</span>

        pen = QPen(Qt.black, <span class="hljs-number">2</span>, Qt.SolidLine)

        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">40</span>, <span class="hljs-number">250</span>, <span class="hljs-number">40</span>)

        pen.setStyle(Qt.DashLine)
        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">80</span>, <span class="hljs-number">250</span>, <span class="hljs-number">80</span>)

        pen.setStyle(Qt.DashDotLine)
        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">120</span>, <span class="hljs-number">250</span>, <span class="hljs-number">120</span>)

        pen.setStyle(Qt.DotLine)
        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">160</span>, <span class="hljs-number">250</span>, <span class="hljs-number">160</span>)

        pen.setStyle(Qt.DashDotDotLine)
        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">200</span>, <span class="hljs-number">250</span>, <span class="hljs-number">200</span>)

        pen.setStyle(Qt.CustomDashLine)
        pen.setDashPattern([<span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>])
        qp.setPen(pen)
        qp.drawLine(<span class="hljs-number">20</span>, <span class="hljs-number">240</span>, <span class="hljs-number">250</span>, <span class="hljs-number">240</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="37-qbrush&#x662F;&#x5565;">37 QBrush&#x662F;&#x5565;?</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QBrush
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">355</span>, <span class="hljs-number">280</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Brushes&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawBrushes(qp)
        qp.end()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawBrushes</span><span class="hljs-params">(self, qp)</span>:</span>

        brush = QBrush(Qt.SolidPattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">10</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.Dense1Pattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">130</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.Dense2Pattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">250</span>, <span class="hljs-number">15</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.DiagCrossPattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">10</span>, <span class="hljs-number">105</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.Dense5Pattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">130</span>, <span class="hljs-number">105</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.Dense6Pattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">250</span>, <span class="hljs-number">105</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.HorPattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">10</span>, <span class="hljs-number">195</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.VerPattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">130</span>, <span class="hljs-number">195</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)

        brush.setStyle(Qt.BDiagPattern)
        qp.setBrush(brush)
        qp.drawRect(<span class="hljs-number">250</span>, <span class="hljs-number">195</span>, <span class="hljs-number">90</span>, <span class="hljs-number">60</span>)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h3 id="38-&#x8D1D;&#x8D5B;&#x5C14;&#x66F2;&#x7EBF;&#x8FD9;&#x4E2A;&#x5B66;&#x8FC7;ps&#x7684;&#x90FD;&#x77E5;&#x9053;">38 &#x8D1D;&#x8D5B;&#x5C14;&#x66F2;&#x7EBF;(&#x8FD9;&#x4E2A;&#x5B66;&#x8FC7;PS&#x7684;&#x90FD;&#x77E5;&#x9053;)</h3>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> QWidget, QApplication
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QPainterPath
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> Qt
<span class="hljs-keyword">import</span> sys


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>
        <span class="hljs-comment"># &#x7528;QPainterPath&#x8DEF;&#x5F84;&#x521B;&#x5EFA;&#x8D1D;&#x585E;&#x5C14;&#x66F2;&#x7EBF;&#x3002;</span>
        <span class="hljs-comment"># &#x4F7F;&#x7528;cubicTo()&#x65B9;&#x6CD5;&#x751F;&#x6210;&#xFF0C;&#x5206;&#x522B;&#x9700;&#x8981;&#x4E09;&#x4E2A;&#x70B9;&#xFF1A;&#x8D77;&#x59CB;&#x70B9;&#xFF0C;&#x63A7;&#x5236;&#x70B9;&#x548C;&#x7EC8;&#x6B62;&#x70B9;&#x3002;</span>
        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">380</span>, <span class="hljs-number">250</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;&#x7ED8;&#x5236;&#x8D1D;&#x585E;&#x5C14;&#x66F2;&#x7EBF;&apos;</span>)
        self.show()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>
        qp = QPainter()
        qp.begin(self)
        qp.setRenderHint(QPainter.Antialiasing)
        self.drawBezierCurve(qp)
        qp.end()

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawBezierCurve</span><span class="hljs-params">(self, qp)</span>:</span>
        path = QPainterPath()
        path.moveTo(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>)
        path.cubicTo(<span class="hljs-number">30</span>, <span class="hljs-number">30</span>, <span class="hljs-number">350</span>, <span class="hljs-number">30</span>, <span class="hljs-number">200</span>, <span class="hljs-number">150</span>)

        qp.drawPath(path)


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:
    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<h1 id="39&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;">39&#x81EA;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;</h1>
<pre><code class="lang-python">
<span class="hljs-keyword">from</span> PyQt5.QtWidgets <span class="hljs-keyword">import</span> (QWidget, QSlider, QApplication,
    QHBoxLayout, QVBoxLayout)
<span class="hljs-keyword">from</span> PyQt5.QtCore <span class="hljs-keyword">import</span> QObject, Qt, pyqtSignal
<span class="hljs-keyword">from</span> PyQt5.QtGui <span class="hljs-keyword">import</span> QPainter, QFont, QColor, QPen
<span class="hljs-keyword">import</span> sys

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Communicate</span><span class="hljs-params">(QObject)</span>:</span>

    updateBW = pyqtSignal(int)


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BurningWidget</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        self.setMinimumSize(<span class="hljs-number">1</span>, <span class="hljs-number">30</span>)
        self.value = <span class="hljs-number">75</span>
        self.num = [<span class="hljs-number">75</span>, <span class="hljs-number">150</span>, <span class="hljs-number">225</span>, <span class="hljs-number">300</span>, <span class="hljs-number">375</span>, <span class="hljs-number">450</span>, <span class="hljs-number">525</span>, <span class="hljs-number">600</span>, <span class="hljs-number">675</span>]


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">setValue</span><span class="hljs-params">(self, value)</span>:</span>

        self.value = value


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">paintEvent</span><span class="hljs-params">(self, e)</span>:</span>

        qp = QPainter()
        qp.begin(self)
        self.drawWidget(qp)
        qp.end()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">drawWidget</span><span class="hljs-params">(self, qp)</span>:</span>

        MAX_CAPACITY = <span class="hljs-number">700</span>
        OVER_CAPACITY = <span class="hljs-number">750</span>

        font = QFont(<span class="hljs-string">&apos;Serif&apos;</span>, <span class="hljs-number">7</span>, QFont.Light)
        qp.setFont(font)

        size = self.size()
        w = size.width()
        h = size.height()

        step = int(round(w / <span class="hljs-number">10</span>))


        till = int(((w / OVER_CAPACITY) * self.value))
        full = int(((w / OVER_CAPACITY) * MAX_CAPACITY))

        <span class="hljs-keyword">if</span> self.value &gt;= MAX_CAPACITY:

            qp.setPen(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))
            qp.setBrush(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">184</span>))
            qp.drawRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, full, h)
            qp.setPen(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">175</span>, <span class="hljs-number">175</span>))
            qp.setBrush(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">175</span>, <span class="hljs-number">175</span>))
            qp.drawRect(full, <span class="hljs-number">0</span>, till-full, h)

        <span class="hljs-keyword">else</span>:

            qp.setPen(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>))
            qp.setBrush(QColor(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">184</span>))
            qp.drawRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, till, h)


        pen = QPen(QColor(<span class="hljs-number">20</span>, <span class="hljs-number">20</span>, <span class="hljs-number">20</span>), <span class="hljs-number">1</span>,
            Qt.SolidLine)

        qp.setPen(pen)
        qp.setBrush(Qt.NoBrush)
        qp.drawRect(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, w<span class="hljs-number">-1</span>, h<span class="hljs-number">-1</span>)

        j = <span class="hljs-number">0</span>

        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(step, <span class="hljs-number">10</span>*step, step):

            qp.drawLine(i, <span class="hljs-number">0</span>, i, <span class="hljs-number">5</span>)
            metrics = qp.fontMetrics()
            fw = metrics.width(str(self.num[j]))
            qp.drawText(i-fw/<span class="hljs-number">2</span>, h/<span class="hljs-number">2</span>, str(self.num[j]))
            j = j + <span class="hljs-number">1</span>


<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span><span class="hljs-params">(QWidget)</span>:</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self)</span>:</span>
        super().__init__()

        self.initUI()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">initUI</span><span class="hljs-params">(self)</span>:</span>

        OVER_CAPACITY = <span class="hljs-number">750</span>

        sld = QSlider(Qt.Horizontal, self)
        sld.setFocusPolicy(Qt.NoFocus)
        sld.setRange(<span class="hljs-number">1</span>, OVER_CAPACITY)
        sld.setValue(<span class="hljs-number">75</span>)
        sld.setGeometry(<span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">150</span>, <span class="hljs-number">30</span>)

        self.c = Communicate()
        self.wid = BurningWidget()
        self.c.updateBW[int].connect(self.wid.setValue)

        sld.valueChanged[int].connect(self.changeValue)
        hbox = QHBoxLayout()
        hbox.addWidget(self.wid)
        vbox = QVBoxLayout()
        vbox.addStretch(<span class="hljs-number">1</span>)
        vbox.addLayout(hbox)
        self.setLayout(vbox)

        self.setGeometry(<span class="hljs-number">300</span>, <span class="hljs-number">300</span>, <span class="hljs-number">390</span>, <span class="hljs-number">210</span>)
        self.setWindowTitle(<span class="hljs-string">&apos;Burning widget&apos;</span>)
        self.show()


    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">changeValue</span><span class="hljs-params">(self, value)</span>:</span>

        self.c.updateBW.emit(value)
        self.wid.repaint()


<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&apos;__main__&apos;</span>:

    app = QApplication(sys.argv)
    ex = Example()
    sys.exit(app.exec_())
</code></pre>
<p>&#x7EC8;&#x4E8E;&#x7FFB;&#x5230;&#x5E95;&#x90E8;&#x4E86;,&#x80FD;&#x770B;&#x5230;&#x8FD9;&#x91CC;,&#x7ED9;&#x4F60;&#x81EA;&#x5DF1;&#x4E00;&#x4E2A;&#x5956;&#x52B1;&#x5427;!!!</p>
<pre><code class="lang-python">
<span class="hljs-string">&apos;&apos;&apos;

       &#x250C;&#x2500;&#x2510;       &#x250C;&#x2500;&#x2510; + +
    &#x250C;&#x2500;&#x2500;&#x2518; &#x2534;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2518; &#x2534;&#x2500;&#x2500;&#x2510;++
    &#x2502;                 &#x2502;
    &#x2502;       &#x2500;&#x2500;&#x2500;       &#x2502;++ + + +
    &#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2500;&#x2500;&#x2500;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588;&#x2588; &#x2502;+
    &#x2502;                 &#x2502;+
    &#x2502;       &#x2500;&#x2534;&#x2500;       &#x2502;
    &#x2502;                 &#x2502;
    &#x2514;&#x2500;&#x2500;&#x2500;&#x2510;         &#x250C;&#x2500;&#x2500;&#x2500;&#x2518;
        &#x2502;         &#x2502;
        &#x2502;         &#x2502;   + +
        &#x2502;         &#x2502;
        &#x2502;         &#x2514;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2510;
        &#x2502;                        &#x2502;
        &#x2502;                        &#x251C;&#x2500;&#x2510;
        &#x2502;                        &#x250C;&#x2500;&#x2518;
        &#x2502;                        &#x2502;
        &#x2514;&#x2500;&#x2510;  &#x2510;  &#x250C;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x2500;&#x252C;&#x2500;&#x2500;&#x2510;  &#x250C;&#x2500;&#x2500;&#x2518;  + + + +
          &#x2502; &#x2500;&#x2524; &#x2500;&#x2524;       &#x2502; &#x2500;&#x2524; &#x2500;&#x2524;
          &#x2514;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2518;       &#x2514;&#x2500;&#x2500;&#x2534;&#x2500;&#x2500;&#x2518;  + + + +
                 &#x795E;&#x517D;&#x4FDD;&#x4F51;
                &#x4EE3;&#x7801;&#x65E0;BUG!


&apos;&apos;&apos;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="demo1.html" class="navigation navigation-prev " aria-label="Previous page: 演示1">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="demo2.html#说明" class="navigation navigation-next " aria-label="Next page: 说明">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"起步","tags":"Python solution basis PyQt5 summer","level":"1.3.2","depth":2,"next":{"title":"说明","level":"1.3.3","depth":2,"anchor":"#说明","path":"demo/demo2.md","ref":"./demo/demo2.md#说明","articles":[]},"previous":{"title":"演示1","level":"1.3.1","depth":2,"path":"demo/demo1.md","ref":"./demo/demo1.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"demo/demo2.md","mtime":"2020-08-22T11:58:09.529Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-23T06:46:18.233Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

